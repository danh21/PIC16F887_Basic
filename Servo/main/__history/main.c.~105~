#include <main.h>

void rotateServo(uint16 angle) {
   uint16 temp = (maxCtrlPulse - minCtrlPulse) / (maxAngle - minAngle);
   temp *= (angle - minAngle);
   uint16 Ton = temp + minCtrlPulse;
   output_high(ctrlPulse);
   delay_us(Ton);
   output_low(ctrlPulse);
   delay_us(T - Ton);
}

void main() {  
   while(TRUE) {
      rotateServo(0);
      delay_ms(500);
      rotateServo(15);
      delay_ms(500);
      rotateServo(60);
      delay_ms(500);
      rotateServo(75);
      delay_ms(500);
      rotateServo(90);
      delay_ms(500);
      rotateServo(150);
      delay_ms(500);
      rotateServo(180);
      delay_ms(500);
   }
}
